import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

# Sample data array
values = np.array([
[0.23, 0.04, 0.00, 0.00, 0.09, 0.04, 0.09, 0.16, 0.05, 0.11, 0.00, 0.02, 0.07, 0.04, 0.00, 0.09, 0.00, 0.00, 0.00, 0.00],
[0.00, 0.42, 0.00, 0.05, 0.00, 0.09, 0.05, 0.00, 0.07, 0.00, 0.00, 0.00, 0.07, 0.00, 0.00, 0.02, 0.00, 0.02, 0.00, 0.21],
[0.00, 0.00, 0.81, 0.00, 0.04, 0.04, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.07, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.04],
[0.04, 0.04, 0.00, 0.72, 0.00, 0.20, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.43, 0.00, 0.04, 0.00, 0.00, 0.13, 0.04, 0.04, 0.04, 0.00, 0.00, 0.09, 0.00, 0.09, 0.00, 0.09],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.75, 0.00, 0.08, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.08, 0.00, 0.08],
[0.00, 0.00, 0.00, 0.00, 0.25, 0.00, 0.17, 0.00, 0.08, 0.08, 0.00, 0.00, 0.00, 0.00, 0.00, 0.33, 0.08, 0.00, 0.00, 0.00],
[0.20, 0.00, 0.00, 0.00, 0.00, 0.00, 0.20, 0.40, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.10, 0.00, 0.00, 0.00],
[0.10, 0.00, 0.00, 0.00, 0.00, 0.00, 0.10, 0.30, 0.40, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.10, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.10, 0.00, 0.00, 0.20, 0.20, 0.10, 0.00, 0.00, 0.00, 0.00, 0.00, 0.10, 0.10, 0.20, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.44, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.33, 0.00, 0.06],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.89, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.05],
[0.02, 0.02, 0.00, 0.00, 0.00, 0.00, 0.21, 0.02, 0.11, 0.00, 0.02, 0.00, 0.19, 0.00, 0.12, 0.04, 0.14, 0.00, 0.09, 0.04],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.36, 0.00, 0.08, 0.04, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.36, 0.00, 0.09, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.29, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.38, 0.10, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.06, 0.00, 0.12, 0.00, 0.00, 0.12, 0.00, 0.00, 0.00, 0.00, 0.00, 0.71, 0.00, 0.00, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.13, 0.00, 0.00, 0.00, 0.13, 0.00, 0.07, 0.07, 0.00, 0.00, 0.00, 0.60, 0.00, 0.00],
[0.00, 0.00, 0.08, 0.08, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.83, 0.00],
[0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.10, 0.00, 0.60, 0.00, 0.00, 0.20, 0.00, 0.10, 0.00],
])

# Labels for rows and columns
labels = [
    "Complain", "Praise", "Apologise", "Thank", "Criticize", "Agree", "Taunt", "Flaunt", "Joke",
    "Oppose", "Comfort", "Care", "Inform", "Advise", "Arrange", "Introduce", "Ask for help", "Prevent",
    "Greet", "Leave"
]

# Plotting
plt.figure(figsize=(12, 10))

# Create heatmap
sns.heatmap(values, annot=True, fmt=".2f", cmap="Blues", cbar_kws={'label': None}, linewidths=0, linecolor='black')

# Set x and y ticks
plt.xticks(ticks=np.arange(len(labels)) + 0.5, labels=labels, rotation=60, ha='center',fontsize=12)
plt.yticks(ticks=np.arange(len(labels)) + 0.5, labels=labels, rotation=0, va='center',fontsize=12)

ax = plt.gca()
for _, spine in ax.spines.items():
    spine.set_visible(True)  # 显示外围的边框
    spine.set_linewidth(1)   # 设置边框宽度
    spine.set_color('black') # 设置边框颜色
    
cbar = plt.gca().collections[0].colorbar
cbar.outline.set_visible(True)  # 显示colorbar的边框
cbar.outline.set_linewidth(1)  # 设置边框宽度
cbar.outline.set_edgecolor('black')  # 设置边框颜色
cbar.ax.tick_params(labelsize=28)  # 设置colorbar字体大小为12
# Adjust layout
plt.tight_layout()
plt.savefig('MIntRec_matrix.png')
